<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Money Tracker Bot - Data Format Reference</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 30px;
        }
        .section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #007bff;
        }
        .json-container {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .field {
            color: #ffd700;
        }
        .string {
            color: #98fb98;
        }
        .number {
            color: #87ceeb;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #007bff;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .transaction-type {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            color: white;
        }
        .expense { background-color: #dc3545; }
        .income { background-color: #28a745; }
        .transfer { background-color: #17a2b8; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ’° Money Tracker Bot</h1>
        <p>Data Format Reference & Google Sheets Integration</p>
    </div>

    <div class="section">
        <h2>ðŸ“Š JSON Data Format Sent to Google Sheets</h2>
        <p>The bot sends HTTP POST requests with JSON payloads in the following formats:</p>
    </div>

    <div class="section">
        <h3><span class="transaction-type expense">Expense</span> Transaction</h3>
        <div class="json-container">
{
  <span class="field">"timestamp"</span>: <span class="string">"2025-07-25T07:30:26.817321"</span>,
  <span class="field">"date"</span>: <span class="string">"2025-07-25"</span>,
  <span class="field">"amount"</span>: <span class="number">50.0</span>,
  <span class="field">"type"</span>: <span class="string">"expense"</span>,
  <span class="field">"category"</span>: <span class="string">"food"</span>,
  <span class="field">"account"</span>: <span class="string">"cash"</span>,
  <span class="field">"description"</span>: <span class="string">"Lunch at restaurant"</span>
}
        </div>
    </div>

    <div class="section">
        <h3><span class="transaction-type income">Income</span> Transaction</h3>
        <div class="json-container">
{
  <span class="field">"timestamp"</span>: <span class="string">"2025-07-25T07:30:29.320003"</span>,
  <span class="field">"date"</span>: <span class="string">"2025-07-25"</span>,
  <span class="field">"amount"</span>: <span class="number">1000.0</span>,
  <span class="field">"type"</span>: <span class="string">"income"</span>,
  <span class="field">"category"</span>: <span class="string">"salary"</span>,
  <span class="field">"account"</span>: <span class="string">"bank"</span>,
  <span class="field">"description"</span>: <span class="string">"Monthly salary"</span>
}
        </div>
    </div>

    <div class="section">
        <h3><span class="transaction-type transfer">Transfer</span> Transaction</h3>
        <div class="json-container">
{
  <span class="field">"timestamp"</span>: <span class="string">"2025-07-25T07:30:31.776354"</span>,
  <span class="field">"date"</span>: <span class="string">"2025-07-25"</span>,
  <span class="field">"amount"</span>: <span class="number">200.0</span>,
  <span class="field">"type"</span>: <span class="string">"transfer"</span>,
  <span class="field">"from_account"</span>: <span class="string">"cash"</span>,
  <span class="field">"to_account"</span>: <span class="string">"bank"</span>,
  <span class="field">"description"</span>: <span class="string">"ATM deposit"</span>
}
        </div>
    </div>

    <div class="section">
        <h2>ðŸ“‹ Google Sheets Column Structure</h2>
        <table>
            <thead>
                <tr>
                    <th>Column</th>
                    <th>Field Name</th>
                    <th>Description</th>
                    <th>Data Type</th>
                    <th>Used By</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>A</strong></td>
                    <td>Timestamp</td>
                    <td>ISO timestamp when processed</td>
                    <td>String</td>
                    <td>All transactions</td>
                </tr>
                <tr>
                    <td><strong>B</strong></td>
                    <td>Date</td>
                    <td>Transaction date (YYYY-MM-DD)</td>
                    <td>String</td>
                    <td>All transactions</td>
                </tr>
                <tr>
                    <td><strong>C</strong></td>
                    <td>Type</td>
                    <td>expense, income, or transfer</td>
                    <td>String</td>
                    <td>All transactions</td>
                </tr>
                <tr>
                    <td><strong>D</strong></td>
                    <td>Amount</td>
                    <td>Transaction amount</td>
                    <td>Number</td>
                    <td>All transactions</td>
                </tr>
                <tr>
                    <td><strong>E</strong></td>
                    <td>Category</td>
                    <td>Transaction category</td>
                    <td>String</td>
                    <td>Expense, Income only</td>
                </tr>
                <tr>
                    <td><strong>F</strong></td>
                    <td>Account</td>
                    <td>Account used</td>
                    <td>String</td>
                    <td>Expense, Income only</td>
                </tr>
                <tr>
                    <td><strong>G</strong></td>
                    <td>Description</td>
                    <td>Transaction description</td>
                    <td>String</td>
                    <td>All transactions</td>
                </tr>
                <tr>
                    <td><strong>H</strong></td>
                    <td>From Account</td>
                    <td>Source account</td>
                    <td>String</td>
                    <td>Transfer only</td>
                </tr>
                <tr>
                    <td><strong>I</strong></td>
                    <td>To Account</td>
                    <td>Destination account</td>
                    <td>String</td>
                    <td>Transfer only</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="section">
        <h2>ðŸš€ Bot Message Examples</h2>
        <table>
            <thead>
                <tr>
                    <th>Type</th>
                    <th>Bot Message</th>
                    <th>Resulting JSON</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="transaction-type expense">Expense</span></td>
                    <td><code>- 25.50 food cash Lunch</code></td>
                    <td>type: "expense", amount: 25.50, category: "food"</td>
                </tr>
                <tr>
                    <td><span class="transaction-type income">Income</span></td>
                    <td><code>+ 1000.00 salary bank Monthly pay</code></td>
                    <td>type: "income", amount: 1000.00, category: "salary"</td>
                </tr>
                <tr>
                    <td><span class="transaction-type transfer">Transfer</span></td>
                    <td><code>t 200.00 cash > bank Deposit</code></td>
                    <td>type: "transfer", amount: 200.00, from_account: "cash"</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="section">
        <h2>ðŸ”§ Technical Details</h2>
        <ul>
            <li><strong>HTTP Method:</strong> POST</li>
            <li><strong>Content-Type:</strong> application/json</li>
            <li><strong>Expected Response:</strong> "Success" (text/plain)</li>
            <li><strong>Error Handling:</strong> Returns error message if processing fails</li>
            <li><strong>Timeout:</strong> 10 seconds</li>
            <li><strong>Follow Redirects:</strong> Yes (required for Google Apps Script)</li>
        </ul>
    </div>

    <div class="section">
        <h2>ðŸ“± Integration Flow</h2>
        <ol>
            <li>User sends message to Telegram bot</li>
            <li>Bot parses message and creates transaction object</li>
            <li>Bot sends formatted response to user</li>
            <li>Bot simultaneously sends JSON payload to Google Sheets API</li>
            <li>Google Apps Script processes the data and saves to spreadsheet</li>
            <li>Bot sends confirmation message to user</li>
        </ol>
    </div>
</body>
</html>
